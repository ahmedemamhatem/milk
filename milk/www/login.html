<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Ù…ÙŠÙ„Ùƒ Ø§Ù†Ø¯ ØªØ´ÙŠØ² â€” Ø¯Ø®ÙˆÙ„</title>
  <meta name="theme-color" content="#0ea5e9">
  <style>
    :root{
      --ink:#0b1324;
      --body:#1f2937;
      --muted:#64748b;
      --line:#e5e7eb;

      --blue-50:#eff6ff;
      --blue-100:#dbeafe;
      --blue-200:#bfdbfe;
      --blue-300:#93c5fd;
      --blue-500:#3b82f6;
      --blue-600:#2563eb;
      --blue-700:#1d4ed8;
      --blue-800:#1e40af;

      --red-50:#fef2f2;
      --red-200:#fecaca;
      --red-600:#dc2626;

      --glass: rgba(255,255,255,0.96);
      --glass-bd: rgba(15,23,42,0.08);

      --fs-hero: clamp(20px, 2vw, 28px);
      --fs-title: 18px;
      --fs-body: 14.5px;
      --fs-caption: 12.5px;

      --radius-xl: 22px;
      --radius-lg: 18px;
      --radius-md: 14px;

      --shadow-2xl: 0 40px 120px rgba(2,6,23,0.24), 0 12px 28px rgba(2,6,23,0.10);
      --shadow-xl: 0 26px 64px rgba(2,6,23,0.14), 0 8px 18px rgba(2,6,23,0.06);
      --shadow-lg: 0 18px 48px rgba(2,6,23,0.10), 0 6px 14px rgba(2,6,23,0.05);
      --shadow-sm: 0 10px 24px rgba(2,6,23,0.06), 0 4px 10px rgba(2,6,23,0.04);

      --focus: 0 0 0 3px rgba(37,99,235,0.22);
    }

    html, body { height:100%; }
    body {
      margin:0;
      font-family:"Cairo","Tajawal",system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans Arabic","Noto Sans",sans-serif;
      color:var(--body);
      background:
        radial-gradient(60% 60% at 80% 0%, rgba(37,99,235,0.14) 0%, rgba(37,99,235,0) 55%) no-repeat,
        radial-gradient(50% 42% at 0% 20%, rgba(191,219,254,0.30) 0%, rgba(191,219,254,0) 65%) no-repeat,
        linear-gradient(180deg, #f7fafc 0%, #eef2f7 100%);
      -webkit-font-smoothing: antialiased; -moz-osx-font-smoothing: grayscale;
      overflow-x: hidden;
      accent-color: var(--blue-600);
    }

    /* Background brand image: visible */
    .bg { position: fixed; inset: 0; z-index: 0; pointer-events: none; }
    .bg::before {
      content:""; position:absolute; inset:0;
      background: linear-gradient(180deg, rgba(255,255,255,0.92), rgba(255,255,255,0.92));
    }
    .bg-logo { position:absolute; inset:0; display:grid; place-items:center; }
    .bg-logo img {
      width: min(1200px, 72vw); height: auto; max-height: 78vh; object-fit: contain;
      opacity: 0.98; filter: saturate(1.08) contrast(1.02);
      transform: translateY(2px);
    }

    /* Top bar */
    .topbar {
      position: sticky; top: 0; z-index: 5;
      display: grid; grid-template-columns: 1fr auto; gap: 10px; align-items: center;
      padding: 12px clamp(14px, 3vw, 24px);
      background: #ffffff;
      border-bottom: 1px solid var(--line);
    }
    .brand-line {
      font-weight: 1000;
      color: var(--blue-800);
      font-size: clamp(17px, 1.8vw, 22px);
      white-space: nowrap; overflow: hidden; text-overflow: ellipsis;
      letter-spacing:.2px;
    }
    .btn-login-top {
      appearance: none; border:1px solid var(--blue-300);
      background: linear-gradient(180deg, var(--blue-600), var(--blue-700));
      color:#fff; font-weight:1000; border-radius: 12px; height:42px; padding: 0 16px; cursor:pointer;
      box-shadow: 0 12px 26px rgba(37,99,235,0.20);
      transition: transform .08s ease, box-shadow .2s ease, filter .2s ease;
    }
    .btn-login-top:active { transform: translateY(1px); }
    .btn-login-top:hover { filter: brightness(1.03); }

    /* Main layout */
    .frame {
      position: relative; z-index: 1; min-height: calc(100vh - 66px); width: 100%;
      display: grid;
      grid-template-columns: minmax(360px, 540px) 1fr minmax(380px, 540px);
      gap: clamp(18px, 4vw, 60px);
      padding: clamp(12px, 2.4vw, 28px);
      align-items: stretch; box-sizing: border-box; max-width: 1680px; margin: 0 auto;
    }
    .edge-left  { grid-column: 1; justify-self: start; align-self: center; }
    .edge-right { grid-column: 3; justify-self: end;   align-self: stretch; }

    /* Cards */
    .card {
      border-radius: var(--radius-xl);
      background: var(--glass);
      border: 1px solid var(--glass-bd);
      box-shadow: var(--shadow-xl);
      overflow: hidden;
    }

    /* Left card */
    .left-card { width: min(540px, 96vw); display:grid; grid-template-rows: auto auto 1fr; text-align: center; }
    .left-head{
      display:grid; grid-template-columns: 1fr; justify-items: center; gap:8px;
      padding:18px 18px 12px; border-bottom:1px solid var(--line);
      background:
        linear-gradient(90deg, rgba(37,99,235,0.10), rgba(37,99,235,0) 55%) no-repeat,
        #ffffff;
    }
    .left-title{ font-weight:900; font-size: var(--fs-hero); color: var(--blue-800); }
    .left-sub{
      display:inline-flex; align-items:center; gap:8px;
      padding: 6px 12px; border-radius:999px;
      background:#f0f6ff; border:1px solid var(--blue-200); color: var(--blue-800);
      font-weight:900; font-size: var(--fs-caption);
    }
    .left-body{
      padding: 14px;
      display:flex; flex-direction: column; gap: 12px; align-items: center;
      background:
        linear-gradient(180deg, #f9fbff 0%, #ffffff 100%);
    }

    /* Image sizes unified */
    .brand-image{
      width: 100%;
      max-width: 100%;
      height: auto;
      max-height: 36vh;
      object-fit: contain;
      border-radius: 16px;
      border: 1px solid var(--line);
      background: linear-gradient(180deg, #ffffff 0%, #f7fbff 100%);
      box-shadow: var(--shadow-lg);
      cursor: zoom-in;
    }
    .brand-image.secondary{
      max-height: 22vh; /* same for all secondary images */
    }

    /* Right card */
    .brand { height:100%; width:min(540px,96vw); display:flex; flex-direction:column; padding:0; }
    .brand-head{
      display:grid; grid-template-columns:auto 1fr auto; gap:12px; align-items:center;
      padding:12px 14px; background:#ffffff; border-bottom:1px solid var(--line);
    }
    .brand-ico-right{
      width:46px; height:46px; border-radius:12px; background:#fff; border:1px solid var(--glass-bd);
      display:flex; align-items:center; justify-content:center; box-shadow:0 4px 12px rgba(2,6,23,0.06);
      font-size:24px; line-height:1;
    }
    .brand-title .ar{ font-weight:1000; font-size: 18px; color: var(--blue-800); }

    .brand-desc{
      padding: 12px 16px;
      background:
        linear-gradient(90deg, rgba(191,219,254,0.32), rgba(191,219,254,0) 60%) no-repeat,
        #f9fbff;
      border-bottom:1px solid var(--line);
      color: var(--blue-800);
      font-weight: 900; font-size: 15px; line-height: 1.8;
    }

    /* Feature cards grid */
    .cards{ flex:1 1 auto; min-height:0; overflow:auto; padding:14px; display:grid; gap:12px; background:#fff; }
    .cards::-webkit-scrollbar{ width:10px; } .cards::-webkit-scrollbar-thumb{ background:#cbd5e1; border-radius:8px; }

    .info{
      position: relative;
      border-radius: var(--radius-lg); padding:16px; display:grid; gap:10px;
      border:1px solid var(--line);
      background: linear-gradient(180deg, #ffffff, #fbfdff);
      box-shadow: var(--shadow-lg);
      transition: transform .12s ease, box-shadow .2s ease, border-color .2s ease, background .2s ease;
      cursor: pointer;
    }
    .info:hover{
      transform: translateY(-2px);
      box-shadow: 0 18px 34px rgba(2,6,23,0.12);
      border-color: var(--blue-200);
      background: linear-gradient(180deg, #ffffff, #f7fbff);
    }
    .info .top{ display:grid; grid-template-columns: 1fr auto; align-items:center; gap:10px; }
    .info h3{ margin:0; font-size: var(--fs-title); font-weight:1000; color: var(--blue-800); }
    .info p{ margin:0; font-size: var(--fs-body); font-weight:800; line-height:1.7; color:#334155; }
    .chip{
      display:inline-flex; align-items:center; gap:6px;
      height:28px; padding:0 10px; border-radius:999px; font-weight:900; font-size:12.5px;
      background:#f0f6ff; border:1px solid var(--blue-200); color: var(--blue-800);
    }
    .chip .dot{ width:8px; height:8px; border-radius:50%; background: var(--blue-600); }

    @media (max-width: 980px){
      .frame{ min-height:auto; grid-template-columns: 1fr; grid-template-rows: auto 18px auto; }
      .edge-left, .edge-right{ justify-self: stretch; align-self: auto; }
      .brand{ width:100%; }
      .brand-image{ max-height: 32vh; }
      .brand-image.secondary{ max-height: 20vh; }
      .cards{ max-height: 60vh; }
      .bg-logo img{ width: min(92vw, 720px); max-height: 60vh; opacity: 0.98; }
    }

    /* Modal login (enhanced) */
    .modal-backdrop {
      position: fixed; inset: 0; display: none;
      align-items: center; justify-content: center;
      background: rgba(17,24,39,0.50);
      z-index: 50; padding: 16px;
    }
    .modal {
      width: min(560px, 96vw);
      border-radius: 22px;
      background: #ffffff;
      border: 1px solid var(--line);
      box-shadow: 0 26px 72px rgba(2,6,23,0.26);
      transform: translateY(10px) scale(0.98);
      opacity: 0;
      transition: transform 200ms ease, opacity 200ms ease;
      overflow: hidden;
    }
    .modal.show { transform: translateY(0) scale(1); opacity: 1; }
    .modal-head { display:flex; align-items:center; gap:10px; padding: 14px 16px; border-bottom: 1px solid var(--line); background:
      linear-gradient(90deg, rgba(191,219,254,0.35), rgba(191,219,254,0) 60%), #fff; }
    .modal-title { font-weight:1000; font-size:18px; color: var(--blue-800); }
    .ico { width: 36px; height: 36px; border-radius: 10px; background:#fff; border:1px solid var(--line); display:flex; align-items:center; justify-content:center; font-size: 20px; }
    .modal-body { padding: 12px 16px 16px; }
    .modal-actions { display:flex; gap:10px; justify-content: space-between; align-items:center; margin-top: 12px; }

    .alert {
      display:none; margin: 8px 0 10px; padding: 10px 12px; border-radius: 12px;
      font-size: var(--fs-caption); font-weight: 900;
      border: 1px solid var(--red-200); background: var(--red-50); color: var(--red-600);
    }
    .alert.show { display:block; }

    .label{ display:block; font-weight:900; font-size: var(--fs-caption); margin:10px 0 6px; color: var(--blue-800); }
    .in-wrap{ position:relative; border-radius:12px; overflow:hidden; border:1px solid var(--line); background:#fff; transition: box-shadow .2s ease, border-color .2s ease; }
    .in{ width:100%; height:50px; border:0; background:transparent; padding:12px 44px 12px 14px; font-size: var(--fs-body); outline:none; color:var(--ink); }
    .in-wrap:focus-within{ border-color: var(--blue-600); box-shadow: var(--focus); }
    .in-wrap.error { border-color: var(--red-600); box-shadow: 0 0 0 3px rgba(220,38,38,0.18); }

    .in-icon{
      position:absolute; inset-inline-start: 12px; inset-block-start: 50%; transform: translateY(-50%);
      width: 22px; height: 22px; display:grid; place-items:center; color: var(--muted); pointer-events:none;
    }
    .toggle-pwd{
      position:absolute; inset-inline-end: 8px; inset-block-start: 50%; transform: translateY(-50%);
      width: 36px; height: 36px; border-radius: 10px; border:1px solid var(--line); background:#fff; cursor:pointer;
      display:grid; place-items:center; color: var(--muted);
    }

    .btn-submit{
      flex: 1 1 auto; height:48px; border-radius:12px; border:1px solid var(--blue-600);
      color:#fff; background: linear-gradient(180deg, var(--blue-600), var(--blue-700));
      font-weight:1000; letter-spacing:0.2px; box-shadow:0 10px 24px rgba(37,99,235,0.18); cursor:pointer;
      transition: transform .08s ease, filter .2s ease;
      display:flex; align-items:center; justify-content:center; gap:8px;
    }
    .btn-submit:hover{ filter: brightness(1.03); }
    .btn-submit:active{ transform: translateY(1px); }
    .btn-cancel{
      height:48px; border-radius:12px; border:1px solid var(--line); background:#fff; color: var(--ink);
      font-weight:900; padding: 0 14px; cursor:pointer;
    }

    /* Centered Feature Popup */
    .feature-center {
      position: fixed; inset: 0; display: none;
      align-items: center; justify-content: center;
      background: rgba(2,6,23,0.50);
      z-index: 40; padding: 16px;
    }
    .feature-modal {
      width: min(880px, 96vw);
      max-height: 86vh;
      border-radius: 22px;
      background: #0b2447; color: #fff;
      border: 1px solid rgba(255,255,255,0.12);
      box-shadow: var(--shadow-2xl);
      transform: translateY(8px) scale(0.98);
      opacity: 0;
      transition: transform .18s ease, opacity .18s ease;
      display: grid; grid-template-rows: auto 1fr auto; overflow: hidden;
    }
    .feature-modal.show{ transform: translateY(0) scale(1); opacity: 1; }
    .f-head{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      padding: 14px 16px;
      background: linear-gradient(90deg, rgba(59,130,246,0.32), rgba(59,130,246,0.05));
      border-bottom: 1px solid rgba(255,255,255,0.12);
    }
    .f-title{ font-size: clamp(22px, 3.2vw, 30px); font-weight: 1000; color:#e7f0ff; display:flex; align-items:center; gap:10px; }
    .f-badge{ display:inline-flex; align-items:center; gap:8px; padding:6px 10px; border-radius:999px; background: rgba(255,255,255,0.10); border:1px solid rgba(255,255,255,0.20); font-weight:900; }
    .f-body{ padding: 16px; overflow: auto; display: grid; gap: 16px; }
    .f-grid{ display:grid; grid-template-columns: 1fr; gap: 16px; }
    .f-text{ line-height: 1.9; font-size: clamp(15px, 1.4vw, 18px); color:#f5f8ff; }
    .f-list{ margin:0; padding-inline-start: 18px; }
    .f-list li{ margin: 6px 0; }
    .f-metrics{ display:grid; grid-template-columns: repeat(auto-fit, minmax(160px,1fr)); gap:10px; }
    .metric{ border-radius: 12px; padding: 10px 12px; background: rgba(255,255,255,0.06); border:1px solid rgba(255,255,255,0.18); display:grid; gap:6px; }
    .metric .k{ font-size: 18px; font-weight: 1000; color:#ffffff; }
    .metric .v{ font-size: 13px; color:#cfe0ff; }
    .f-actions{ padding: 12px 16px; display:flex; justify-content:flex-end; gap:10px; background: rgba(255,255,255,0.04); border-top:1px solid rgba(255,255,255,0.12); }
    .f-close{ height:42px; padding:0 14px; border-radius: 12px; border:1px solid rgba(255,255,255,0.24); background: transparent; color:#fff; font-weight:900; cursor:pointer; }

    /* Image Lightbox */
    .lightbox {
      position: fixed; inset: 0; display: none;
      background: rgba(2,6,23,0.65);
      z-index: 60;
      align-items: center; justify-content: center; padding: 18px;
    }
    .lightbox-content{
      width: min(1200px, 92vw); max-height: 92vh;
      background: #ffffff; border: 1px solid var(--line);
      border-radius: 18px; box-shadow: var(--shadow-2xl);
      display: grid; grid-template-rows: auto 1fr; overflow: hidden;
      transform: translateY(8px) scale(0.98); opacity: 0; transition: transform .2s ease, opacity .2s ease;
    }
    .lightbox.show .lightbox-content{ transform: translateY(0) scale(1); opacity: 1; }
    .lightbox-head{ display:flex; align-items:center; justify-content:space-between; gap:10px; padding: 10px 12px; border-bottom:1px solid var(--line); background:#f8fafc; }
    .lightbox-title{ font-weight:1000; color: var(--blue-800); }
    .lightbox-body{ background:#000; display:grid; place-items:center; }
    .lightbox-body img{ max-width: 100%; max-height: 86vh; object-fit: contain; display:block; }

    /* Utility */
    .hidden{ display:none !important; }
  </style>
</head>
<body>
  <!-- Background -->
  <div class="bg" aria-hidden="true">
    <div class="bg-logo">
      <img src="/assets/milk/immages/bg.png" alt="">
    </div>
  </div>

  <!-- Top bar -->
  <header class="topbar">
    <div class="brand-line">Ù…ÙŠÙ„Ùƒ Ø§Ù†Ø¯ ØªØ´ÙŠØ² â€” Milk & Cheese</div>
    <button id="openLoginTop" class="btn-login-top" type="button">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</button>
  </header>

  <!-- Left/Right -->
  <div class="frame">
    <!-- Left -->
    <section class="edge-left">
      <div class="card left-card" role="region" aria-label="Ù…ÙŠÙ„Ùƒ Ø§Ù†Ø¯ ØªØ´ÙŠØ² â€” Ø¨Ø·Ø§Ù‚Ø© Ø§Ù„ÙŠØ³Ø§Ø±">
        <div class="left-head">
          <div class="left-title">Ù…ÙŠÙ„Ùƒ Ø§Ù†Ø¯ ØªØ´ÙŠØ² - Milk & Cheese</div>
        </div>
        <div class="left-body">
          <!-- ØªØ±ØªÙŠØ¨ Ø§Ù„ØµÙˆØ± Ø§Ù„Ù…Ø·Ù„ÙˆØ¨: Ø£ÙˆÙ„Ø§Ù‹ Ø§Ù„Ø³ÙŠØ§Ø±Ø©ØŒ Ø«Ø§Ù†ÙŠØ§Ù‹ 12345.png (Ø§Ù„Ù…ØµÙ†Ø¹)ØŒ Ø«Ù… Ø§Ù„Ø´Ø¹Ø§Ø± -->
          <img class="brand-image secondary" src="/assets/milk/immages/car.png" alt="Ø³ÙŠØ§Ø±Ø© Ù†Ù‚Ù„ â€” Ù…ÙŠÙ„Ùƒ Ø§Ù†Ø¯ ØªØ´ÙŠØ²" data-lightbox="Ø´Ø§Ø­Ù†Ø© Ø§Ù„Ù†Ù‚Ù„">
          <img class="brand-image secondary" src="/assets/milk/immages/12345.png" alt="Ù…ØµÙ†Ø¹ â€” Ù…ÙŠÙ„Ùƒ Ø§Ù†Ø¯ ØªØ´ÙŠØ²" data-lightbox="Ù…ØµÙ†Ø¹ Ù…ÙŠÙ„Ùƒ Ø§Ù†Ø¯ ØªØ´ÙŠØ²">
          <img class="brand-image" src="/assets/milk/immages/logoo.png" alt="Ù…Ù†ØªØ¬Ø§Øª Ù…ÙŠÙ„Ùƒ Ø§Ù†Ø¯ ØªØ´ÙŠØ²" data-lightbox="Ù…Ù†ØªØ¬Ø§Øª Ù…ÙŠÙ„Ùƒ Ø§Ù†Ø¯ ØªØ´ÙŠØ²">
        </div>
      </div>
    </section>

    <!-- Right -->
    <section class="edge-right">
      <div class="card brand" role="region" aria-label="Ù…Ø¹Ù„ÙˆÙ…Ø§Øª â€” Ù…ÙŠÙ„Ùƒ Ø§Ù†Ø¯ ØªØ´ÙŠØ²">
        <div class="brand-head">
          <div class="brand-ico-right" aria-hidden="true">ğŸ§€</div>
          <div class="brand-title"><div class="ar">Ù…ÙŠÙ„Ùƒ Ø§Ù†Ø¯ ØªØ´ÙŠØ²</div></div>
          <div aria-hidden="true" style="width:10px;"></div>
        </div>

        <div class="brand-desc">
          Ù…Ø±Ø¬Ø¹ ÙÙŠ ØªØµÙ†ÙŠØ¹ Ø£Ù†ÙˆØ§Ø¹ Ù…ØªØ¹Ø¯Ø¯Ø© Ù…Ù† Ø§Ù„Ø­Ù„ÙŠØ¨ ÙˆØ§Ù„Ø£Ø¬Ø¨Ø§Ù† Ø¨Ø¬ÙˆØ¯Ø© Ø¹Ø§Ù„ÙŠØ©.
        </div>

        <div class="cards" aria-label="Ù…Ø¹Ù„ÙˆÙ…Ø§Øª ÙˆÙ…ÙŠØ²Ø§Øª" id="featuresGrid">
          <article class="info"
                   data-title="Ø¬ÙˆØ¯Ø© ÙŠÙˆÙ…ÙŠØ© Ù…ÙˆØ«ÙˆÙ‚Ø©"
                   data-badge="QA â€” Quality Assurance"
                   data-desc="Ø³Ø¬Ù‘Ù„ Ø¬ÙˆØ¯Ø© Ø§Ù„Ù„Ø¨Ù† ØµØ¨Ø§Ø­Ø§Ù‹ ÙˆÙ…Ø³Ø§Ø¡Ù‹ Ù…Ø¹ Ø¥Ø¯Ø§Ø±Ø© Ø¹ÙŠÙ†Ø§Øª Ø¯ÙˆØ±ÙŠØ© ÙˆØªÙ‚Ø§Ø±ÙŠØ± ØªØ­Ù„ÙŠÙ„ÙŠØ© ØªÙ„Ù‚Ø§Ø¦ÙŠØ©."
                   data-points='["Ø³Ø¬Ù„ Ø§Ù„Ø¹ÙŠÙ†Ø§Øª Ù…Ø¹ ØµÙˆØ± ÙˆÙ…Ø±ÙÙ‚Ø§Øª","Ù…Ù‚Ø§Ø±Ù†Ø§Øª Ø¨ÙŠÙ† Ø§Ù„Ù‚Ø±Ù‰ ÙˆØ§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†","ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø¹Ù†Ø¯ ØªØ¬Ø§ÙˆØ² Ø§Ù„Ø­Ø¯ÙˆØ¯","Ù„ÙˆØ­Ø§Øª ØªØ­ÙƒÙ… ÙŠÙˆÙ…ÙŠØ©"]'
                   data-metrics='[{"k":"+120","v":"Ø§Ø®ØªØ¨Ø§Ø± ÙŠÙˆÙ…ÙŠ"},{"k":"98.6%","v":"ØªÙˆØ§ÙÙ‚ Ù…Ø¹ Ø§Ù„Ù…Ø¹Ø§ÙŠÙŠØ±"},{"k":"< 2%","v":"Ø§Ù†Ø­Ø±Ø§ÙØ§Øª Ø´Ù‡Ø±ÙŠØ©"}]'>
            <div class="top">
              <h3>Ø¬ÙˆØ¯Ø© ÙŠÙˆÙ…ÙŠØ© Ù…ÙˆØ«ÙˆÙ‚Ø©</h3>
              <span class="chip"><span class="dot"></span> QA</span>
            </div>
            <p>Ø³Ø¬Ù‘Ù„ Ø¬ÙˆØ¯Ø© Ø§Ù„Ù„Ø¨Ù† ØµØ¨Ø§Ø­Ø§Ù‹ ÙˆÙ…Ø³Ø§Ø¡Ù‹ Ù…Ø¹ ØªØªØ¨Ù‘Ø¹ Ø§Ù„Ø£Ù†ÙˆØ§Ø¹ ÙˆØ§Ù„Ù‚Ø±Ù‰ ÙˆØ§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ† ÙˆÙ…Ø±Ø§Ù‚Ø¨Ø© Ù†ØªØ§Ø¦Ø¬ Ø§Ù„ØªØ­Ø§Ù„ÙŠÙ„ Ø§Ù„Ù…Ø®Ø¨Ø±ÙŠØ©.</p>
          </article>

          <article class="info"
                   data-title="ÙÙˆØ§ØªÙŠØ± ÙˆØ¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø£Ø³Ø±Ø¹"
                   data-badge="ERP â€” Enterprise Resource Planning"
                   data-desc="Ø£ØªÙ…ØªØ© Ø¯ÙˆØ±Ø© Ø§Ù„Ù…Ø´ØªØ±ÙŠØ§Øª ÙˆØ§Ù„Ù…Ø¨ÙŠØ¹Ø§Øª ÙˆØ§Ù„Ù…ØµØ±ÙˆÙØ§Øª Ù…Ø¹ Ø£Ø±Ø´ÙØ© Ø±Ù‚Ù…ÙŠØ© ÙˆØ³ÙŠØ± Ù…ÙˆØ§ÙÙ‚Ø§Øª Ù…Ø±Ù†."
                   data-points='["ØªØ­ØµÙŠÙ„Ø§Øª ÙˆÙ…Ø·Ø§Ø¨Ù‚Ø§Øª Ø¨Ù†ÙƒÙŠØ©","Ù†ÙØ³ÙØ¨ Ø®ØµÙ… ÙˆØ¶Ø±Ø§Ø¦Ø¨ Ù…Ø®ØµØµØ©","ÙÙˆØ§ØªÙŠØ± Ù…Ø¬Ù…Ø¹Ø© Ù„Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ†","ØªÙ‚Ø§Ø±ÙŠØ± Ù‡ÙˆØ§Ù…Ø´ Ø§Ù„Ø±Ø¨Ø­ÙŠØ©"]'
                   data-metrics='[{"k":"3x","v":"Ø³Ø±Ø¹Ø© Ø¥Ù†Ø´Ø§Ø¡ Ø§Ù„ÙØ§ØªÙˆØ±Ø©"},{"k":"-35%","v":"Ø£Ø®Ø·Ø§Ø¡ Ø§Ù„Ø¥Ø¯Ø®Ø§Ù„"},{"k":"+99%","v":"ØªØ·Ø§Ø¨Ù‚ Ø§Ù„Ù‚ÙŠÙˆØ¯"}]'>
            <div class="top">
              <h3>ÙÙˆØ§ØªÙŠØ± ÙˆØ¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø£Ø³Ø±Ø¹</h3>
              <span class="chip"><span class="dot"></span> ERP</span>
            </div>
            <p>Ø¥Ù†Ø´Ø§Ø¡ ÙÙˆØ§ØªÙŠØ± Ø§Ù„Ù…ÙˆØ±Ø¯ÙŠÙ† ÙˆØ§Ù„Ø¹Ù…Ù„Ø§Ø¡ ÙˆØ§Ù„Ù…ØµØ§Ø±ÙŠÙ Ø¨Ø³Ø±Ø¹Ø©ØŒ Ù…Ø¹ Ø£Ø±Ø´ÙØ© Ø§Ù„Ù…Ø±ÙÙ‚Ø§Øª ÙˆØªØªØ¨Ø¹ Ø§Ù„Ù…ÙˆØ§ÙÙ‚Ø§Øª ÙˆØ§Ù„ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù„Ø¯Ù‚ÙŠÙ‚Ø©.</p>
          </article>

          <article class="info"
                   data-title="Ø¥Ù†ØªØ§Ø¬ Ø§Ù„Ø£Ø¬Ø¨Ø§Ù† Ø§Ù„Ù…ØªÙ†ÙˆØ¹"
                   data-badge="MFG â€” Manufacturing"
                   data-desc="ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù„Ø¨Ù† Ø¥Ù„Ù‰ Ø£ØµÙ†Ø§Ù Ø£Ø¬Ø¨Ø§Ù† Ù…ØªØ¹Ø¯Ø¯Ø© Ø¹Ø¨Ø± Ø£ÙˆØ§Ù…Ø± Ø¥Ù†ØªØ§Ø¬ Ù‚ÙŠØ§Ø³ÙŠØ© ÙˆØªØªØ¨Ø¹ ØªÙƒØ§Ù„ÙŠÙ Ø¢Ù†ÙŠ."
                   data-points='["Ù…Ø±Ø§Ø­Ù„ Ø¥Ù†ØªØ§Ø¬ Ù‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØ®ØµÙŠØµ","ØµÙŠØ§ØºØ§Øª ÙˆÙ†ÙØ³ÙØ¨ Ø¹Ø§Ø¦Ø¯","ØªØ®Ø·ÙŠØ· Ù…ÙˆØ§Ø±Ø¯ ÙˆÙ‚Ø¯Ø±Ø§Øª","Ù‡Ø¯Ø± ÙˆØ¥Ø¹Ø§Ø¯Ø© ØªØ¯ÙˆÙŠØ± Ù…Ø±Ø§Ù‚ÙØ¨"]'
                   data-metrics='[{"k":"+22%","v":"ØªØ­Ø³Ù† Ø§Ù„Ø¹Ø§Ø¦Ø¯"},{"k":"-15%","v":"Ù‡Ø¯Ø± Ø§Ù„Ù…ÙˆØ§Ø¯"},{"k":"å®æ—¶","v":"ØªÙƒØ§Ù„ÙŠÙ Ù…Ø¨Ø§Ø´Ø±Ø©"}]'>
            <div class="top">
              <h3>Ø¥Ù†ØªØ§Ø¬ Ø§Ù„Ø£Ø¬Ø¨Ø§Ù† Ø§Ù„Ù…ØªÙ†ÙˆØ¹</h3>
              <span class="chip"><span class="dot"></span> MFG</span>
            </div>
            <p>ØªØ­ÙˆÙŠÙ„ Ø§Ù„Ù„Ø¨Ù† Ø¥Ù„Ù‰ Ø£Ù†ÙˆØ§Ø¹ Ù…ØªØ¹Ø¯Ø¯Ø© Ù…Ù† Ø§Ù„Ø£Ø¬Ø¨Ø§Ù† Ø¨Ù…Ø±Ø§Ø­Ù„ Ù…Ø¹ÙŠØ§Ø±ÙŠØ©ØŒ Ù…Ø¹ Ù…Ø±Ø§Ù‚Ø¨Ø© Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ÙˆØ®Ø·Ø· Ø§Ù„Ø¥Ù†ØªØ§Ø¬ ÙˆØªÙƒØ§Ù„ÙŠÙ Ø§Ù„ØªØ´ØºÙŠÙ„.</p>
          </article>

          <article class="info"
                   data-title="Ø¬Ù…Ø¹ ÙˆØªÙˆØ±ÙŠØ¯ Ø§Ù„Ù„Ø¨Ù†"
                   data-badge="LOG â€” Logistics"
                   data-desc="Ø´Ø¨ÙƒØ© ØªÙˆØ±ÙŠØ¯ Ù…ÙŠØ¯Ø§Ù†ÙŠØ© Ù…Ø¹ ØªØªØ¨Ø¹ Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±Ø© ÙˆÙ…Ø³Ø§Ø±Ø§Øª Ø§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ† ÙˆÙ†ÙÙ‚Ø§Ø· Ø§Ù„ØªØ¬Ù…ÙŠØ¹."
                   data-points='["ØªØ³Ø¬ÙŠÙ„ ÙƒÙ…ÙŠØ§Øª Ø­Ø³Ø¨ Ø§Ù„Ù‚Ø±Ù‰","Ù‚ÙŠØ§Ø³ Ø­Ø±Ø§Ø±Ø© Ù„Ø­Ø¸ÙŠ","ØªØªØ¨Ù‘Ø¹ Ø§Ù„ØªÙØ±ÙŠØº ÙˆØ§Ù„Ø§Ø³ØªÙ„Ø§Ù…","Ø¥Ø®Ø·Ø§Ø±Ø§Øª Ø§Ù„ØªØ£Ø®ÙŠØ±"]'
                   data-metrics='[{"k":"+140","v":"Ù†Ù‚Ø·Ø© ØªØ¬Ù…ÙŠØ¹"},{"k":"<30m","v":"Ù…ØªÙˆØ³Ø· Ø²Ù…Ù† Ø§Ù„ØªØ³Ù„ÙŠÙ…"},{"k":"24/7","v":"Ø±ØµØ¯ Ù…Ø³Ø§Ø±Ø§Øª"}]'>
            <div class="top">
              <h3>Ø¬Ù…Ø¹ ÙˆØªÙˆØ±ÙŠØ¯ Ø§Ù„Ù„Ø¨Ù†</h3>
              <span class="chip"><span class="dot"></span> LOG</span>
            </div>
            <p>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„ÙƒÙ…ÙŠØ§Øª Ø­Ø³Ø¨ Ø§Ù„Ù‚Ø±Ù‰ ÙˆØ§Ù„Ø³Ø§Ø¦Ù‚ÙŠÙ† ÙˆØ§Ù„Ù†Ù‚Ø§Ø·ØŒ Ù…Ø¹ ØªØªØ¨Ù‘Ø¹ Ø¯Ø±Ø¬Ø§Øª Ø§Ù„Ø­Ø±Ø§Ø±Ø© ÙˆØ£Ø²Ù…Ù†Ø© Ø§Ù„ØªØ³Ù„ÙŠÙ… ÙˆØªÙØ±ÙŠØº Ø§Ù„Ø­Ù…ÙˆÙ„Ø§Øª.</p>
          </article>

          <article class="info"
                   data-title="Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ÙˆØªØªØ¨Ø¹ Ø§Ù„Ø¯ÙÙØ¹Ø§Øª"
                   data-badge="INV â€” Inventory"
                   data-desc="Ù…Ø³ØªÙˆØ¯Ø¹Ø§Øª Ø°ÙƒÙŠØ© Ø¨ØªØªØ¨Ù‘Ø¹ Ø§Ù„Ø¯ÙÙØ¹Ø§Øª ÙˆØªÙˆØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ ÙˆØ§Ù„ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„ÙˆÙ‚Ø§Ø¦ÙŠØ©."
                   data-points='["Ù…Ø®Ø·Ø·Ø§Øª ØªØ¯ÙÙ‘Ù‚ Ø§Ù„Ù…ÙˆØ§Ø¯","ÙÙˆØ§ØµÙ„ Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ø·Ù„Ø¨","Ø¬Ø±Ø¯ Ø¯ÙˆØ±ÙŠ Ù…ØªÙ†Ù‚Ù„","ØªØªØ¨Ø¹ Ø¨Ø§Ø±ÙƒÙˆØ¯ Ù…ØªØ¹Ø¯Ø¯"]'
                   data-metrics='[{"k":"-18%","v":"Ù†ÙØ§Ø¯ Ù…ÙØ§Ø¬Ø¦"},{"k":"+99.2%","v":"Ø¯Ù‚Ø© Ø§Ù„Ø¬Ø±Ø¯"},{"k":"SLA","v":"ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ù…Ø³Ø¨Ù‚Ø©"}]'>
            <div class="top">
              <h3>Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ÙˆØªØªØ¨Ø¹ Ø§Ù„Ø¯ÙÙØ¹Ø§Øª</h3>
              <span class="chip"><span class="dot"></span> INV</span>
            </div>
            <p>Ø¥Ø¯Ø§Ø±Ø© Ø¯Ù‚ÙŠÙ‚Ø© Ù„Ù„Ø¯ÙÙØ¹Ø§Øª ÙˆØªÙˆØ§Ø±ÙŠØ® Ø§Ù„Ø§Ù†ØªÙ‡Ø§Ø¡ Ù…Ø¹ ØªÙ†Ø¨ÙŠÙ‡Ø§Øª Ø§Ù„Ù…Ø®Ø²ÙˆÙ† ÙˆØ±Ø³ÙˆÙ… Ø¨ÙŠØ§Ù†ÙŠØ© Ù„Ø§Ù†Ø³ÙŠØ§Ø¨ÙŠØ© Ø§Ù„Ù…ÙˆØ§Ø¯.</p>
          </article>

          <article class="info"
                   data-title="Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„Ø³Ù„Ø§Ù…Ø© Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ©"
                   data-badge="QMS â€” Quality Management"
                   data-desc="Ø¥Ø¯Ø§Ø±Ø© Ù…Ù†Ø¸ÙˆÙ…Ø© HACCP Ù…Ø¹ Ø§Ù„ÙØ­ÙˆØµØ§Øª ÙˆØ§Ù„Ø§Ù†Ø­Ø±Ø§ÙØ§Øª ÙˆØ§Ù„Ø¥Ø¬Ø±Ø§Ø¡Ø§Øª Ø§Ù„ØªØµØ­ÙŠØ­ÙŠØ©."
                   data-points='["Ù†Ù…Ø§Ø°Ø¬ ÙØ­Øµ Ù…Ø¹ÙŠØ§Ø±ÙŠØ©","Ø³Ø¬Ù„ Ø§Ù†Ø­Ø±Ø§ÙØ§Øª ÙˆØªØ­Ù‚ÙŠÙ‚Ø§Øª","CAPA ØªÙ„Ù‚Ø§Ø¦ÙŠ","Ø£Ø«Ø± Ø±Ø¬Ø¹ÙŠ Ù‚Ø§Ø¨Ù„ Ù„Ù„ØªØªØ¨Ù‘Ø¹"]'
                   data-metrics='[{"k":"+100%","v":"ØªÙˆØ«ÙŠÙ‚ Ø§Ù„ÙØ­ÙˆØµØ§Øª"},{"k":"-25%","v":"ØªÙƒØ±Ø§Ø± Ø§Ù„Ø§Ù†Ø­Ø±Ø§Ù"},{"k":"Audit","v":"Ø¬Ø§Ù‡Ø²ÙŠØ© ÙƒØ§Ù…Ù„Ø©"}]'>
            <div class="top">
              <h3>Ø§Ù„Ø¬ÙˆØ¯Ø© ÙˆØ§Ù„Ø³Ù„Ø§Ù…Ø© Ø§Ù„ØºØ°Ø§Ø¦ÙŠØ©</h3>
              <span class="chip"><span class="dot"></span> QMS</span>
            </div>
            <p>Ø³Ø¬Ù„Ø§Øª HACCPØŒ ÙØ­ÙˆØµØ§Øª Ù…Ø¹ÙŠØ§Ø±ÙŠØ©ØŒ ØªÙ‚Ø§Ø±ÙŠØ± Ø§Ù†Ø­Ø±Ø§ÙØŒ ÙˆØ¥Ø¬Ø±Ø§Ø¡Ø§Øª ØªØµØ­ÙŠØ­ÙŠØ© Ù…ÙˆØ«Ù‘Ù‚Ø© ÙˆÙ‚Ø§Ø¨Ù„Ø© Ù„Ù„ØªØªØ¨Ù‘Ø¹.</p>
          </article>
        </div>
      </div>
    </section>
  </div>

  <!-- Feature Center Popup -->
  <div class="feature-center" id="featureCenter" aria-hidden="true">
    <section class="feature-modal" role="dialog" aria-modal="true" aria-labelledby="fcTitle">
      <header class="f-head">
        <div class="f-title" id="fcTitle">Ø§Ù„Ø¹Ù†ÙˆØ§Ù†</div>
        <div class="f-badge" id="fcBadge">TAG</div>
      </header>
      <div class="f-body">
        <div class="f-grid">
          <div class="f-text" id="fcDesc">ÙˆØµÙ ØªÙØµÙŠÙ„ÙŠ Ù„Ù„Ù…ÙŠØ²Ø©.</div>
          <ul class="f-list" id="fcList"></ul>
          <div class="f-metrics" id="fcMetrics"></div>
        </div>
      </div>
      <div class="f-actions">
        <button class="f-close" id="fcClose" type="button">Ø¥ØºÙ„Ø§Ù‚</button>
      </div>
    </section>
  </div>

  <!-- Image Lightbox -->
  <div class="lightbox" id="lightbox" aria-hidden="true">
    <div class="lightbox-content">
      <div class="lightbox-head">
        <div class="lightbox-title" id="lightboxTitle">Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±Ø©</div>
        <button class="f-close" id="lbClose" type="button">Ø¥ØºÙ„Ø§Ù‚</button>
      </div>
      <div class="lightbox-body">
        <img id="lightboxImg" src="" alt="">
      </div>
    </div>
  </div>

  <!-- Login modal -->
  <div id="loginModalBackdrop" class="modal-backdrop" aria-hidden="true">
    <section class="modal" role="dialog" aria-modal="true" aria-labelledby="loginTitle">
      <header class="modal-head">
        <div class="ico" aria-hidden="true">ğŸ”</div>
        <div class="modal-title" id="loginTitle">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</div>
      </header>
      <div class="modal-body">
        <div id="loginError" class="alert" role="alert" aria-live="assertive"></div>
        <form id="loginForm" novalidate>
          <label class="label" for="email">Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø£Ùˆ Ø§Ù„Ø¨Ø±ÙŠØ¯</label>
          <div class="in-wrap" id="wrapEmail">
            <div class="in-icon" aria-hidden="true">ğŸ‘¤</div>
            <input id="email" name="usr" type="text" class="in" autocomplete="username" required placeholder="example@company.com Ø£Ùˆ user123" />
          </div>

          <label class="label" for="pwd">ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±</label>
          <div class="in-wrap" id="wrapPwd">
            <div class="in-icon" aria-hidden="true">ğŸ”’</div>
            <input id="pwd" name="pwd" type="password" class="in" autocomplete="current-password" required placeholder="â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢" />
            <button type="button" class="toggle-pwd" id="togglePwd" aria-label="Ø¥Ø¸Ù‡Ø§Ø±/Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">ğŸ‘ï¸</button>
          </div>

          <div class="modal-actions">
            <button class="btn-cancel" id="cancelLogin" type="button">Ø¥Ù„ØºØ§Ø¡</button>
            <button class="btn-submit" id="submitLogin" type="submit">
              <span>Ø¯Ø®ÙˆÙ„</span>
            </button>
          </div>
        </form>
      </div>
    </section>
  </div>

  <script>
    (function(){
      // Login modal
      const opener = document.getElementById('openLoginTop');
      const backdrop = document.getElementById('loginModalBackdrop');
      const modal = backdrop.querySelector('.modal');
      const cancelBtn = document.getElementById('cancelLogin');
      const form = document.getElementById('loginForm');
      const errorBox = document.getElementById('loginError');
      const wrapEmail = document.getElementById('wrapEmail');
      const wrapPwd = document.getElementById('wrapPwd');
      const email = document.getElementById('email');
      const pwd = document.getElementById('pwd');
      const togglePwd = document.getElementById('togglePwd');

      function openModal(){
        backdrop.style.display = 'flex';
        requestAnimationFrame(()=>{
          modal.classList.add('show');
          backdrop.setAttribute('aria-hidden', 'false');
          setTimeout(()=> email?.focus(), 140);
        });
      }
      function closeModal(){
        modal.classList.remove('show');
        setTimeout(()=>{
          backdrop.style.display = 'none';
          backdrop.setAttribute('aria-hidden', 'true');
        }, 180);
        showError('');
        wrapEmail.classList.remove('error');
        wrapPwd.classList.remove('error');
        form.reset();
      }
      function showError(msg){
        errorBox.textContent = msg || '';
        errorBox.classList.toggle('show', Boolean(msg));
      }

      opener.addEventListener('click', openModal);
      cancelBtn.addEventListener('click', closeModal);
      backdrop.addEventListener('click', (e)=> { if (e.target === backdrop) closeModal(); });
      document.addEventListener('keydown', (e)=> { if (e.key === 'Escape' && backdrop.style.display === 'flex') closeModal(); });

      function markInvalid(fields = []){
        wrapEmail.classList.toggle('error', fields.includes('usr'));
        wrapPwd.classList.toggle('error', fields.includes('pwd'));
      }

      // Show/Hide password
      togglePwd.addEventListener('click', ()=>{
        const show = pwd.type === 'password';
        pwd.type = show ? 'text' : 'password';
        togglePwd.textContent = show ? 'ğŸ™ˆ' : 'ğŸ‘ï¸';
        togglePwd.setAttribute('aria-label', show ? 'Ø¥Ø®ÙØ§Ø¡ ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±' : 'Ø¥Ø¸Ù‡Ø§Ø± ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±');
        pwd.selectionStart = pwd.selectionEnd = pwd.value.length;
        pwd.focus();
      });

      async function loginERPNext(usr, pwdVal){
        const body = new URLSearchParams({ usr, pwd: pwdVal });
        try {
          const res = await fetch('/api/method/login', {
            method: 'POST',
            headers: { 'Content-Type': 'application/x-www-form-urlencoded' },
            body
          });
          const data = await res.json().catch(()=> ({}));
          if (res.ok && (data?.message === 'Logged In' || data?.home_page)) {
            window.location.href = data?.home_page || '/app';
            return;
          }
          const raw = (data?._error_message || data?.exception || data?.message || '').toString();
          let msg = 'Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ø¯Ø®ÙˆÙ„ ØºÙŠØ± ØµØ­ÙŠØ­Ø©. ØªØ£ÙƒØ¯ Ù…Ù† Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±.';
          if (/disabled|not\s*allowed/i.test(raw)) msg = 'ØªÙ… ØªØ¹Ø·ÙŠÙ„ Ø§Ù„Ø­Ø³Ø§Ø¨ Ø£Ùˆ Ù„Ø§ ÙŠØ³Ù…Ø­ Ø¨ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„.';
          if (/too many|rate/i.test(raw)) msg = 'Ù…Ø­Ø§ÙˆÙ„Ø§Øª ÙƒØ«ÙŠØ±Ø©. ÙŠØ±Ø¬Ù‰ Ø§Ù„Ù…Ø­Ø§ÙˆÙ„Ø© Ù„Ø§Ø­Ù‚Ø§Ù‹.';
          showError(msg);
          markInvalid(['usr','pwd']);
        } catch {
          showError('ØªØ¹Ø°Ø± Ø§Ù„Ø§ØªØµØ§Ù„ Ø¨Ø§Ù„Ø®Ø§Ø¯Ù…. ØªØ­Ù‚Ù‚ Ù…Ù† Ø§Ù„Ø´Ø¨ÙƒØ© ÙˆØ­Ø§ÙˆÙ„ Ù…Ø¬Ø¯Ø¯Ø§Ù‹.');
        }
      }

      form.addEventListener('submit', async (e) => {
        e.preventDefault();
        const usr = (form.usr.value || '').trim();
        const pw = (form.pwd.value || '').trim();
        showError(''); markInvalid([]);
        if (!usr || !pw) {
          showError('Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±.');
          markInvalid([!usr ? 'usr' : '', !pw ? 'pwd' : ''].filter(Boolean));
          (!usr ? email : pwd).focus();
          return;
        }
        await loginERPNext(usr, pw);
      });

      // Feature Center Popup
      const centerBackdrop = document.getElementById('featureCenter');
      const centerModal = centerBackdrop.querySelector('.feature-modal');
      const fcTitle = document.getElementById('fcTitle');
      const fcBadge = document.getElementById('fcBadge');
      const fcDesc = document.getElementById('fcDesc');
      const fcList = document.getElementById('fcList');
      const fcMetrics = document.getElementById('fcMetrics');
      const fcClose = document.getElementById('fcClose');

      function openFeatureModal(card){
        const title = card.dataset.title || card.querySelector('h3')?.textContent || 'Ø§Ù„Ù…ÙŠØ²Ø©';
        const badge = card.dataset.badge || '';
        const desc  = card.dataset.desc  || card.querySelector('p')?.textContent || '';
        const points = safeJSON(card.dataset.points, []);
        const metrics = safeJSON(card.dataset.metrics, []);

        fcTitle.textContent = title;
        fcBadge.textContent = badge;
        fcDesc.textContent = desc;

        fcList.innerHTML = '';
        points.forEach(pt=>{
          const li = document.createElement('li');
          li.textContent = pt;
          fcList.appendChild(li);
        });

        fcMetrics.innerHTML = '';
        metrics.forEach(m=>{
          const el = document.createElement('div');
          el.className = 'metric';
          el.innerHTML = `<div class="k">${m.k}</div><div class="v">${m.v}</div>`;
          fcMetrics.appendChild(el);
        });

        centerBackdrop.style.display = 'flex';
        requestAnimationFrame(()=>{
          centerModal.classList.add('show');
          centerBackdrop.setAttribute('aria-hidden','false');
        });
      }
      function closeFeatureModal(){
        centerModal.classList.remove('show');
        setTimeout(()=>{
          centerBackdrop.style.display = 'none';
          centerBackdrop.setAttribute('aria-hidden','true');
        },180);
      }
      fcClose.addEventListener('click', closeFeatureModal);
      centerBackdrop.addEventListener('click', (e)=> { if(e.target === centerBackdrop) closeFeatureModal(); });
      document.addEventListener('keydown', (e)=> { if (e.key === 'Escape' && centerBackdrop.style.display === 'flex') closeFeatureModal(); });

      // Click or focus/Enter on feature cards
      const grid = document.getElementById('featuresGrid');
      grid.addEventListener('click', (e)=>{
        const card = e.target.closest('.info');
        if(card) openFeatureModal(card);
      });
      grid.querySelectorAll('.info').forEach(c=>{
        c.tabIndex = 0;
        c.addEventListener('keydown', (e)=>{ if(e.key === 'Enter' || e.key === ' ') { e.preventDefault(); openFeatureModal(c); } });
      });

      // Image Lightbox (semi full page)
      const lb = document.getElementById('lightbox');
      const lbImg = document.getElementById('lightboxImg');
      const lbTitle = document.getElementById('lightboxTitle');
      const lbClose = document.getElementById('lbClose');

      function openLightbox(src, title){
        lbImg.src = src;
        lbImg.alt = title || '';
        lbTitle.textContent = title || 'Ø¹Ø±Ø¶ Ø§Ù„ØµÙˆØ±Ø©';
        lb.style.display = 'flex';
        requestAnimationFrame(()=>{
          lb.classList.add('show');
          lb.setAttribute('aria-hidden','false');
        });
      }
      function closeLightbox(){
        lb.classList.remove('show');
        setTimeout(()=>{
          lb.style.display = 'none';
          lb.setAttribute('aria-hidden','true');
          lbImg.src = '';
        }, 180);
      }
      lbClose.addEventListener('click', closeLightbox);
      lb.addEventListener('click', (e)=> { if(e.target === lb) closeLightbox(); });
      document.addEventListener('keydown', (e)=> { if (e.key === 'Escape' && lb.style.display === 'flex') closeLightbox(); });

      document.querySelectorAll('.brand-image').forEach(img=>{
        img.addEventListener('click', ()=>{
          const src = img.getAttribute('src');
          const title = img.getAttribute('data-lightbox') || img.getAttribute('alt') || 'Ø§Ù„ØµÙˆØ±Ø©';
          openLightbox(src, title);
        });
      });

      // Helpers
      function safeJSON(str, fallback){
        try{ return JSON.parse(str); }catch{ return fallback; }
      }
    })();
  </script>
</body>
</html>